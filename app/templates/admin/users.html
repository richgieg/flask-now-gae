{% extends "admin/base.html" %}
{% import "bootstrap/wtf.html" as wtf %}

{% set page_title = 'Users' %}

{% block page_content %}
<div class="row">
    <div class="col-md-12">
        <div class="page-header">
            <h1>Users</h1>
        </div>
    </div>
</div>
<div class="row">
    <div class="col-md-12">
        <table class="table table-bordered">
            <thead>
                <tr>
                    <th>Email</th>
                    <th>Username</th>
                    <th>Role</th>
                    <th>Joined</th>
                    <th>Enabled</th>
                    <th>Confirmed</th>
                    <th>Locked</th>
                </tr>
            </thead>
            <tbody>
                {% for user in users %}
                <tr>
                    <td>
                        <a href="{{ url_for('admin.user', id=user.id) }}">
                            {{ user.email }}
                        </a>
                    </td>
                    <td>{{ user.username }}</td>
                    <td>{{ roles[user.role_key] }}</td>
                    <td>{{ user.member_since }}</td>
                    {% if not user.enabled %}
                    <td class="danger">
                    {% else %}
                    <td>
                    {% endif %}
                        {{ user.enabled }}
                    </td>

                    {% if not user.confirmed %}
                    <td class="danger">
                    {% else %}
                    <td>
                    {% endif %}
                        {{ user.confirmed }}
                    </td>

                    {% if user.locked %}
                    <td class="danger">
                    {% else %}
                    <td>
                    {% endif %}
                        {{ user.locked }}
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}
